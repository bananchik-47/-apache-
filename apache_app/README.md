
# Простой анализатор логов Apache

## Как запустить

### Сначала ставим что нужно
```bash
pip install -r requirements.txt
```

### Что можно делать

#### 1. Загрузить логи в базу
```bash
python apache.py parse
```
*Берёт access.log из папки logs и кидает всё это в базу SQLite.*

#### 2. Посмотреть что в логах
```bash
python apache.py show [параметры]
```

Можно фильтровать вот так:

| Параметр       | Пример                        | Что делает                          |
|----------------|-------------------------------|-------------------------------------|
| `--ip`         | `--ip 192.168.1.1`            | Только записи с этим IP            |
| `--keyword`    | `--keyword login`             | Найдёт по кусочку в URL            |
| `--date-from`  | `--date-from 2024-01-01`      | Только с этой даты                 |
| `--date-to`    | `--date-to 2024-01-31`        | Только до этой даты                |
| `--limit`      | `--limit 200`                 | Сколько записей показать (по умолчанию 100) |

### Где что лежит

| Что                   | Где лежит               |
|------------------------|--------------------------|
| Файл с логами         | `./logs/access.log`      |
| База данных           | `./logs.db`              |
| Настройки (конфиг)    | `./config.ini`           |

### Примеры, чтоб понять

**Посмотреть 50 строк от конкретного IP:**
```bash
python apache.py show --ip 192.168.1.5 --limit 50
```

**Найти все запросы к /api/ за январь 2024:**
```bash
python apache.py show --keyword /api/ --date-from 2024-01-01 --date-to 2024-01-31
```
